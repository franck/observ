<section class="observ-metrics-grid observ-metrics-grid--4col">
  <div class="observ-metric-card">
    <div class="observ-metric-card__header">
      <h3 class="observ-metric-card__label">Traces</h3>
    </div>
    <div class="observ-metric-card__body">
      <p class="observ-metric-card__value"><%= session_metrics[:total_traces] %></p>
    </div>
  </div>

  <div class="observ-metric-card">
    <div class="observ-metric-card__header">
      <h3 class="observ-metric-card__label">LLM Calls</h3>
    </div>
    <div class="observ-metric-card__body">
      <p class="observ-metric-card__value"><%= session_metrics[:total_llm_calls] %></p>
    </div>
  </div>

  <div class="observ-metric-card">
    <div class="observ-metric-card__header">
      <h3 class="observ-metric-card__label">Total Tokens</h3>
    </div>
    <div class="observ-metric-card__body">
      <p class="observ-metric-card__value"><%= format_tokens(session_metrics[:total_tokens]) %></p>
    </div>
  </div>

  <div class="observ-metric-card observ-metric-card--highlighted">
    <div class="observ-metric-card__header">
      <h3 class="observ-metric-card__label">Total Cost</h3>
    </div>
    <div class="observ-metric-card__body">
      <p class="observ-metric-card__value"><%= format_currency(session_metrics[:total_cost]) %></p>
    </div>
  </div>

  <div class="observ-metric-card">
    <div class="observ-metric-card__header">
      <h3 class="observ-metric-card__label">Duration</h3>
    </div>
    <div class="observ-metric-card__body">
      <p class="observ-metric-card__value">
        <% if session_metrics[:duration_s] %>
          <%= format_duration_s(session_metrics[:duration_s]) %>
        <% else %>
          <span class="observ-text--muted">In Progress</span>
        <% end %>
      </p>
    </div>
  </div>

  <div class="observ-metric-card">
    <div class="observ-metric-card__header">
      <h3 class="observ-metric-card__label">Avg Latency</h3>
    </div>
    <div class="observ-metric-card__body">
      <p class="observ-metric-card__value"><%= format_duration_ms(session_metrics[:average_llm_latency_ms]) %></p>
    </div>
  </div>

  <div class="observ-metric-card">
    <div class="observ-metric-card__header">
      <h3 class="observ-metric-card__label">Total LLM Time</h3>
    </div>
    <div class="observ-metric-card__body">
      <p class="observ-metric-card__value"><%= format_duration_ms(session_metrics[:total_llm_duration_ms]) %></p>
    </div>
  </div>

  <div class="observ-metric-card">
    <div class="observ-metric-card__header">
      <h3 class="observ-metric-card__label">Started</h3>
    </div>
    <div class="observ-metric-card__body">
      <p class="observ-metric-card__value observ-metric-card__value--small">
        <%= observ_relative_time(session.start_time) %>
      </p>
    </div>
  </div>
</section>
